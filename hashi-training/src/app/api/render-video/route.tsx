import { NextResponse } from "next/server";
import {
  getFunctions,
  renderMediaOnLambda,
  // getRenderProgress,
} from "@remotion/lambda/client";

const sampleVideoData = {
  audioData: {
    alignment: {
      character_end_times_seconds: [
        0.07, 0.151, 0.209, 0.255, 0.313, 0.383, 0.453, 0.522, 0.615, 0.639,
        0.662, 0.755, 0.813, 0.906, 0.987, 1.161, 1.312, 1.486, 1.556, 1.683,
        1.73, 1.811, 1.881, 1.95, 2.009, 2.067, 2.101, 2.136, 2.183, 2.218,
        2.264, 2.322, 2.392, 2.45, 2.485, 2.577, 2.635, 2.705, 2.752, 2.786,
        2.844, 2.868, 2.891, 2.949, 2.995, 3.042, 3.088, 3.135, 3.204, 3.286,
        3.367, 3.483, 3.599, 3.75, 3.831, 4.156, 4.226, 4.284, 4.319, 4.354,
        4.377, 4.4, 4.423, 4.47, 4.505, 4.54, 4.574, 4.632, 4.679, 4.748, 4.807,
        4.841, 4.899, 4.957, 5.004, 5.039, 5.074, 5.143, 5.178, 5.224, 5.283,
        5.329, 5.41, 5.503, 5.828, 5.898, 5.933, 6.014, 6.084, 6.153, 6.211,
        6.246, 6.293, 6.327, 6.374, 6.409, 6.444, 6.525, 6.594, 6.687, 6.757,
        6.873, 6.908, 6.966, 7.001, 7.036, 7.059, 7.129, 7.187, 7.303, 7.372,
        7.442, 7.512, 7.663, 7.755, 7.802, 7.848, 7.883, 7.93, 7.976, 8.069,
        8.127, 8.301, 8.324, 8.707, 8.824, 8.87, 8.916, 8.94, 8.963, 8.986,
        9.033, 9.079, 9.137, 9.183, 9.23, 9.276, 9.3, 9.323, 9.369, 9.404,
        9.451, 9.497, 9.555, 9.601, 9.625, 9.718, 9.834, 10.077, 10.17, 10.252,
        10.321, 10.403, 10.484, 10.53, 10.588, 10.67, 10.739, 10.797, 10.844,
        10.89, 10.925, 10.983, 11.041, 11.076, 11.134, 11.18, 11.273, 11.343,
        11.517, 11.598, 11.714, 11.831, 11.9, 11.947, 11.993, 12.028, 12.086,
        12.121, 12.167, 12.214, 12.26, 12.307, 12.33, 12.353, 12.376, 12.411,
        12.457, 12.574, 12.725, 12.759, 12.957, 12.957, 13.398, 13.572, 13.665,
        13.688, 13.746, 13.781, 13.827, 13.874, 13.92, 14.013, 14.048, 14.094,
        14.129, 14.164, 14.222, 14.257, 14.303, 14.35, 14.408, 14.454, 14.512,
        14.547, 14.629, 14.675, 14.721, 14.756, 14.791, 14.825, 14.872, 14.918,
        14.976, 15.034, 15.104, 15.174, 15.29, 15.36, 15.476, 15.522, 15.58,
        15.627, 15.673, 15.708, 15.743, 15.801, 15.847, 15.87, 15.894, 15.952,
        15.975, 15.998, 16.045, 16.114, 16.172, 16.242, 16.277, 16.346, 16.416,
        16.567, 16.683, 17.066, 17.124, 17.24, 17.298, 17.345, 17.368, 17.403,
        17.426, 17.496, 17.542, 17.658, 17.809, 17.879, 17.995, 18.076, 18.158,
        18.227, 18.297, 18.355, 18.401, 18.448, 18.494, 18.552, 18.61, 18.645,
        18.703, 18.75, 18.877, 19.028, 19.237, 19.365, 19.423, 19.539, 19.586,
        19.62, 19.667, 19.783, 19.864, 19.945, 20.027, 20.085, 20.201, 20.259,
        20.317, 20.352, 20.387, 20.41, 20.433, 20.456, 20.491, 20.526, 20.561,
        20.596, 20.63, 20.665, 20.712, 20.735, 20.758, 20.781, 20.828, 20.863,
        20.921, 20.979, 21.048, 21.118, 21.188, 21.327, 21.327, 21.768, 21.942,
        22.059, 22.082, 22.151, 22.198, 22.244, 22.279, 22.302, 22.337, 22.384,
        22.476, 22.604, 22.674, 22.743, 22.767, 22.79, 22.813, 22.86, 22.952,
        23.022, 23.069, 23.092, 23.173, 23.266, 23.475, 23.591, 23.684, 23.754,
        23.788, 23.823, 23.87, 23.986, 24.102, 24.195, 24.276, 24.369, 24.462,
        24.543, 24.636, 24.729, 24.926, 24.926, 25.309, 25.309, 25.425, 25.518,
        25.6, 25.75, 25.797, 25.855, 25.913, 25.971, 26.018, 26.087, 26.157,
        26.215, 26.261, 26.308, 26.366, 26.389, 26.412, 26.435, 26.47, 26.528,
        26.586, 26.679, 26.795, 26.877, 26.993, 27.109, 27.283, 27.434, 27.55,
        27.62, 27.655, 27.701, 27.736, 27.771, 27.794, 27.863, 27.922, 27.956,
        27.991, 28.107, 28.223, 28.432, 28.49, 28.607, 28.641, 28.665, 28.699,
        28.734, 28.769, 28.792, 28.816, 28.85, 28.897, 28.943, 29.013, 29.059,
        29.129, 29.245, 29.361, 29.384, 29.605, 29.605, 30.302, 30.36, 30.406,
        30.429, 30.487, 30.534, 30.58, 30.638, 30.708, 30.743, 30.801, 30.847,
        30.882, 30.917, 30.952, 31.01, 31.068, 31.126, 31.196, 31.277, 31.323,
        31.358, 31.405, 31.44, 31.532, 31.579, 31.649, 31.718, 31.788, 31.846,
        31.881, 31.916, 31.974, 32.02, 32.055, 32.09, 32.113, 32.171, 32.241,
        32.275, 32.322, 32.345, 32.38, 32.426, 32.484, 32.531, 32.589, 32.635,
        32.682, 32.705, 32.728, 32.81, 32.844, 32.891, 32.949, 32.995, 33.042,
        33.088, 33.146, 33.262, 33.413, 33.854, 33.924, 34.04, 34.075, 34.133,
        34.168, 34.203, 34.238, 34.272, 34.319, 34.377, 34.412, 34.47, 34.505,
        34.656, 34.702, 34.748, 34.783, 34.841, 34.888, 34.911, 34.934, 34.969,
        35.015, 35.062, 35.12, 35.143, 35.19, 35.224, 35.294, 35.364, 35.41,
        35.445, 35.515, 35.584, 35.677, 36.06, 36.13, 36.2, 36.281, 36.339,
        36.455, 36.513, 36.606, 36.641, 36.699, 36.734, 36.757, 36.815, 36.861,
        36.896, 36.931, 36.977, 37.024, 37.059, 37.094, 37.117, 37.163, 37.198,
        37.268, 37.314, 37.337, 37.361, 37.419, 37.535, 37.651, 37.686, 37.721,
        37.767, 37.825, 37.941, 37.999, 38.092, 38.162, 38.278, 38.313, 38.347,
        38.382, 38.44, 38.487, 38.533, 38.556, 38.58, 38.603, 38.626, 38.707,
        38.777, 38.847, 38.905, 38.963, 39.009, 39.044, 39.067, 39.091, 39.114,
        39.149, 39.195, 39.253, 39.334, 39.416, 39.485, 39.555, 39.671, 39.787,
        40.112, 40.182, 40.252, 40.298, 40.333, 40.368, 40.414, 40.472, 40.495,
        40.553, 40.588, 40.646, 40.728, 40.844, 40.96, 41.053, 41.169, 41.296,
        41.378, 41.447, 41.494, 41.575, 41.621, 41.668, 41.691, 41.714, 41.761,
        41.784, 41.83, 41.877, 41.97, 42.028, 42.051, 42.109, 42.144, 42.19,
        42.248, 42.295, 42.341, 42.399, 42.434, 42.457, 42.504, 42.527, 42.55,
        42.585, 42.632, 42.69, 42.724, 42.841, 42.887, 42.945, 42.991, 43.061,
        43.108, 43.142, 43.177, 43.2, 43.235, 43.27, 43.293, 43.317, 43.351,
        43.375, 43.433, 43.502, 43.653, 43.7, 43.874, 44.071,
      ],
      character_start_times_seconds: [
        0, 0.07, 0.151, 0.209, 0.255, 0.313, 0.383, 0.453, 0.522, 0.615, 0.639,
        0.662, 0.755, 0.813, 0.906, 0.987, 1.161, 1.312, 1.486, 1.556, 1.683,
        1.73, 1.811, 1.881, 1.95, 2.009, 2.067, 2.101, 2.136, 2.183, 2.218,
        2.264, 2.322, 2.392, 2.45, 2.485, 2.577, 2.635, 2.705, 2.752, 2.786,
        2.844, 2.868, 2.891, 2.949, 2.995, 3.042, 3.088, 3.135, 3.204, 3.286,
        3.367, 3.483, 3.599, 3.75, 3.831, 4.156, 4.226, 4.284, 4.319, 4.354,
        4.377, 4.4, 4.423, 4.47, 4.505, 4.54, 4.574, 4.632, 4.679, 4.748, 4.807,
        4.841, 4.899, 4.957, 5.004, 5.039, 5.074, 5.143, 5.178, 5.224, 5.283,
        5.329, 5.41, 5.503, 5.828, 5.898, 5.933, 6.014, 6.084, 6.153, 6.211,
        6.246, 6.293, 6.327, 6.374, 6.409, 6.444, 6.525, 6.594, 6.687, 6.757,
        6.873, 6.908, 6.966, 7.001, 7.036, 7.059, 7.129, 7.187, 7.303, 7.372,
        7.442, 7.512, 7.663, 7.755, 7.802, 7.848, 7.883, 7.93, 7.976, 8.069,
        8.127, 8.301, 8.324, 8.707, 8.824, 8.87, 8.916, 8.94, 8.963, 8.986,
        9.033, 9.079, 9.137, 9.183, 9.23, 9.276, 9.3, 9.323, 9.369, 9.404,
        9.451, 9.497, 9.555, 9.601, 9.625, 9.718, 9.834, 10.077, 10.17, 10.252,
        10.321, 10.403, 10.484, 10.53, 10.588, 10.67, 10.739, 10.797, 10.844,
        10.89, 10.925, 10.983, 11.041, 11.076, 11.134, 11.18, 11.273, 11.343,
        11.517, 11.598, 11.714, 11.831, 11.9, 11.947, 11.993, 12.028, 12.086,
        12.121, 12.167, 12.214, 12.26, 12.307, 12.33, 12.353, 12.376, 12.411,
        12.457, 12.574, 12.725, 12.759, 12.957, 12.957, 13.398, 13.572, 13.665,
        13.688, 13.746, 13.781, 13.827, 13.874, 13.92, 14.013, 14.048, 14.094,
        14.129, 14.164, 14.222, 14.257, 14.303, 14.35, 14.408, 14.454, 14.512,
        14.547, 14.629, 14.675, 14.721, 14.756, 14.791, 14.825, 14.872, 14.918,
        14.976, 15.034, 15.104, 15.174, 15.29, 15.36, 15.476, 15.522, 15.58,
        15.627, 15.673, 15.708, 15.743, 15.801, 15.847, 15.87, 15.894, 15.952,
        15.975, 15.998, 16.045, 16.114, 16.172, 16.242, 16.277, 16.346, 16.416,
        16.567, 16.683, 17.066, 17.124, 17.24, 17.298, 17.345, 17.368, 17.403,
        17.426, 17.496, 17.542, 17.658, 17.809, 17.879, 17.995, 18.076, 18.158,
        18.227, 18.297, 18.355, 18.401, 18.448, 18.494, 18.552, 18.61, 18.645,
        18.703, 18.75, 18.877, 19.028, 19.237, 19.365, 19.423, 19.539, 19.586,
        19.62, 19.667, 19.783, 19.864, 19.945, 20.027, 20.085, 20.201, 20.259,
        20.317, 20.352, 20.387, 20.41, 20.433, 20.456, 20.491, 20.526, 20.561,
        20.596, 20.63, 20.665, 20.712, 20.735, 20.758, 20.781, 20.828, 20.863,
        20.921, 20.979, 21.048, 21.118, 21.188, 21.327, 21.327, 21.768, 21.942,
        22.059, 22.082, 22.151, 22.198, 22.244, 22.279, 22.302, 22.337, 22.384,
        22.476, 22.604, 22.674, 22.743, 22.767, 22.79, 22.813, 22.86, 22.952,
        23.022, 23.069, 23.092, 23.173, 23.266, 23.475, 23.591, 23.684, 23.754,
        23.788, 23.823, 23.87, 23.986, 24.102, 24.195, 24.276, 24.369, 24.462,
        24.543, 24.636, 24.729, 24.926, 24.926, 25.309, 25.309, 25.425, 25.518,
        25.6, 25.75, 25.797, 25.855, 25.913, 25.971, 26.018, 26.087, 26.157,
        26.215, 26.261, 26.308, 26.366, 26.389, 26.412, 26.435, 26.47, 26.528,
        26.586, 26.679, 26.795, 26.877, 26.993, 27.109, 27.283, 27.434, 27.55,
        27.62, 27.655, 27.701, 27.736, 27.771, 27.794, 27.863, 27.922, 27.956,
        27.991, 28.107, 28.223, 28.432, 28.49, 28.607, 28.641, 28.665, 28.699,
        28.734, 28.769, 28.792, 28.816, 28.85, 28.897, 28.943, 29.013, 29.059,
        29.129, 29.245, 29.361, 29.384, 29.605, 29.605, 30.302, 30.36, 30.406,
        30.429, 30.487, 30.534, 30.58, 30.638, 30.708, 30.743, 30.801, 30.847,
        30.882, 30.917, 30.952, 31.01, 31.068, 31.126, 31.196, 31.277, 31.323,
        31.358, 31.405, 31.44, 31.532, 31.579, 31.649, 31.718, 31.788, 31.846,
        31.881, 31.916, 31.974, 32.02, 32.055, 32.09, 32.113, 32.171, 32.241,
        32.275, 32.322, 32.345, 32.38, 32.426, 32.484, 32.531, 32.589, 32.635,
        32.682, 32.705, 32.728, 32.81, 32.844, 32.891, 32.949, 32.995, 33.042,
        33.088, 33.146, 33.262, 33.413, 33.854, 33.924, 34.04, 34.075, 34.133,
        34.168, 34.203, 34.238, 34.272, 34.319, 34.377, 34.412, 34.47, 34.505,
        34.656, 34.702, 34.748, 34.783, 34.841, 34.888, 34.911, 34.934, 34.969,
        35.015, 35.062, 35.12, 35.143, 35.19, 35.224, 35.294, 35.364, 35.41,
        35.445, 35.515, 35.584, 35.677, 36.06, 36.13, 36.2, 36.281, 36.339,
        36.455, 36.513, 36.606, 36.641, 36.699, 36.734, 36.757, 36.815, 36.861,
        36.896, 36.931, 36.977, 37.024, 37.059, 37.094, 37.117, 37.163, 37.198,
        37.268, 37.314, 37.337, 37.361, 37.419, 37.535, 37.651, 37.686, 37.721,
        37.767, 37.825, 37.941, 37.999, 38.092, 38.162, 38.278, 38.313, 38.347,
        38.382, 38.44, 38.487, 38.533, 38.556, 38.58, 38.603, 38.626, 38.707,
        38.777, 38.847, 38.905, 38.963, 39.009, 39.044, 39.067, 39.091, 39.114,
        39.149, 39.195, 39.253, 39.334, 39.416, 39.485, 39.555, 39.671, 39.787,
        40.112, 40.182, 40.252, 40.298, 40.333, 40.368, 40.414, 40.472, 40.495,
        40.553, 40.588, 40.646, 40.728, 40.844, 40.96, 41.053, 41.169, 41.296,
        41.378, 41.447, 41.494, 41.575, 41.621, 41.668, 41.691, 41.714, 41.761,
        41.784, 41.83, 41.877, 41.97, 42.028, 42.051, 42.109, 42.144, 42.19,
        42.248, 42.295, 42.341, 42.399, 42.434, 42.457, 42.504, 42.527, 42.55,
        42.585, 42.632, 42.69, 42.724, 42.841, 42.887, 42.945, 42.991, 43.061,
        43.108, 43.142, 43.177, 43.2, 43.235, 43.27, 43.293, 43.317, 43.351,
        43.375, 43.433, 43.502, 43.653, 43.7, 43.874,
      ],
      characters: [
        "I",
        "n",
        "t",
        "r",
        "o",
        "d",
        "u",
        "c",
        "i",
        "n",
        "g",
        " ",
        "E",
        "n",
        "z",
        "o",
        ",",
        " ",
        "a",
        " ",
        "d",
        "i",
        "l",
        "i",
        "g",
        "e",
        "n",
        "t",
        " ",
        "w",
        "o",
        "r",
        "k",
        "e",
        "r",
        " ",
        "f",
        "u",
        "l",
        "l",
        " ",
        "o",
        "f",
        " ",
        "e",
        "n",
        "t",
        "h",
        "u",
        "s",
        "i",
        "a",
        "s",
        "m",
        ".",
        " ",
        "B",
        "u",
        "t",
        " ",
        "t",
        "h",
        "e",
        "r",
        "e",
        "'",
        "s",
        " ",
        "o",
        "n",
        "e",
        " ",
        "s",
        "m",
        "a",
        "l",
        "l",
        " ",
        "h",
        "i",
        "c",
        "c",
        "u",
        "p",
        "â€”",
        "h",
        "e",
        " ",
        "a",
        "l",
        "w",
        "a",
        "y",
        "s",
        " ",
        "c",
        "o",
        "n",
        "f",
        "u",
        "s",
        "e",
        "s",
        " ",
        "h",
        "i",
        "s",
        " ",
        "b",
        "o",
        "s",
        "s",
        " ",
        "I",
        "a",
        "n",
        "'",
        "s",
        " ",
        "n",
        "a",
        "m",
        "e",
        ".",
        " ",
        "A",
        "t",
        " ",
        "t",
        "h",
        "e",
        " ",
        "m",
        "o",
        "r",
        "n",
        "i",
        "n",
        "g",
        " ",
        "m",
        "e",
        "e",
        "t",
        "i",
        "n",
        "g",
        ",",
        " ",
        "E",
        "n",
        "z",
        "o",
        " ",
        "c",
        "o",
        "n",
        "f",
        "i",
        "d",
        "e",
        "n",
        "t",
        "l",
        "y",
        " ",
        "s",
        "a",
        "y",
        "s",
        ",",
        " ",
        "'",
        "G",
        "o",
        "o",
        "d",
        " ",
        "m",
        "o",
        "r",
        "n",
        "i",
        "n",
        "g",
        ",",
        " ",
        "G",
        "i",
        "a",
        "n",
        "!",
        "'",
        " ",
        "I",
        "a",
        "n",
        " ",
        "r",
        "a",
        "i",
        "s",
        "e",
        "s",
        " ",
        "a",
        "n",
        " ",
        "e",
        "y",
        "e",
        "b",
        "r",
        "o",
        "w",
        " ",
        "b",
        "u",
        "t",
        " ",
        "c",
        "h",
        "u",
        "c",
        "k",
        "l",
        "e",
        "s",
        ",",
        " ",
        "c",
        "o",
        "r",
        "r",
        "e",
        "c",
        "t",
        "i",
        "n",
        "g",
        " ",
        "h",
        "i",
        "m",
        " ",
        "g",
        "e",
        "n",
        "t",
        "l",
        "y",
        ".",
        " ",
        "A",
        "n",
        "o",
        "t",
        "h",
        "e",
        "r",
        " ",
        "d",
        "a",
        "y",
        ",",
        " ",
        "E",
        "n",
        "z",
        "o",
        " ",
        "r",
        "u",
        "s",
        "h",
        "e",
        "s",
        " ",
        "i",
        "n",
        ",",
        " ",
        "'",
        "H",
        "e",
        "y",
        ",",
        " ",
        "I",
        "v",
        "a",
        "n",
        "!",
        " ",
        "D",
        "i",
        "d",
        " ",
        "y",
        "o",
        "u",
        " ",
        "c",
        "h",
        "e",
        "c",
        "k",
        " ",
        "t",
        "h",
        "e",
        " ",
        "r",
        "e",
        "p",
        "o",
        "r",
        "t",
        "?",
        "'",
        " ",
        "I",
        "a",
        "n",
        " ",
        "j",
        "u",
        "s",
        "t",
        " ",
        "s",
        "m",
        "i",
        "l",
        "e",
        "s",
        ",",
        " ",
        "s",
        "a",
        "y",
        "i",
        "n",
        "g",
        ",",
        " ",
        "'",
        "I",
        "t",
        "'",
        "s",
        " ",
        "I",
        "a",
        "n",
        ",",
        " ",
        "E",
        "n",
        "z",
        "o",
        ".",
        "'",
        " ",
        " ",
        "E",
        "n",
        "z",
        "o",
        ",",
        " ",
        "u",
        "n",
        "d",
        "e",
        "t",
        "e",
        "r",
        "r",
        "e",
        "d",
        ",",
        " ",
        "r",
        "e",
        "p",
        "l",
        "i",
        "e",
        "s",
        ",",
        " ",
        "'",
        "R",
        "i",
        "g",
        "h",
        "t",
        ",",
        " ",
        "r",
        "i",
        "g",
        "h",
        "t",
        "!",
        " ",
        "I",
        " ",
        "m",
        "e",
        "a",
        "n",
        "t",
        " ",
        "t",
        "o",
        " ",
        "s",
        "a",
        "y",
        " ",
        "I",
        "a",
        "n",
        "!",
        "'",
        " ",
        "T",
        "h",
        "e",
        " ",
        "m",
        "i",
        "x",
        "-",
        "u",
        "p",
        "s",
        " ",
        "c",
        "o",
        "n",
        "t",
        "i",
        "n",
        "u",
        "e",
        " ",
        "a",
        "s",
        " ",
        "E",
        "n",
        "z",
        "o",
        " ",
        "c",
        "h",
        "a",
        "l",
        "l",
        "e",
        "n",
        "g",
        "e",
        "s",
        " ",
        "h",
        "i",
        "m",
        "s",
        "e",
        "l",
        "f",
        " ",
        "t",
        "o",
        " ",
        "r",
        "e",
        "m",
        "e",
        "m",
        "b",
        "e",
        "r",
        ".",
        " ",
        "A",
        " ",
        "f",
        "e",
        "w",
        " ",
        "w",
        "e",
        "e",
        "k",
        "s",
        " ",
        "i",
        "n",
        ",",
        " ",
        "h",
        "e",
        "'",
        "s",
        " ",
        "f",
        "u",
        "l",
        "l",
        "y",
        " ",
        "t",
        "r",
        "a",
        "i",
        "n",
        "e",
        "d",
        ".",
        " ",
        "I",
        "n",
        " ",
        "f",
        "a",
        "c",
        "t",
        ",",
        " ",
        "h",
        "e",
        " ",
        "s",
        "t",
        "a",
        "r",
        "t",
        "s",
        " ",
        "c",
        "a",
        "l",
        "l",
        "i",
        "n",
        "g",
        " ",
        "I",
        "a",
        "n",
        " ",
        "'",
        "B",
        "o",
        "s",
        "s",
        "m",
        "a",
        "n",
        "'",
        " ",
        "j",
        "u",
        "s",
        "t",
        " ",
        "t",
        "o",
        " ",
        "a",
        "v",
        "o",
        "i",
        "d",
        " ",
        "t",
        "h",
        "e",
        " ",
        "m",
        "i",
        "x",
        "-",
        "u",
        "p",
        "s",
        ".",
        " ",
        "L",
        "a",
        "u",
        "g",
        "h",
        "t",
        "e",
        "r",
        " ",
        "e",
        "n",
        "s",
        "u",
        "e",
        "s",
        ",",
        " ",
        "c",
        "r",
        "e",
        "a",
        "t",
        "i",
        "n",
        "g",
        " ",
        "a",
        " ",
        "b",
        "o",
        "n",
        "d",
        " ",
        "s",
        "t",
        "r",
        "o",
        "n",
        "g",
        "e",
        "r",
        " ",
        "t",
        "h",
        "a",
        "n",
        " ",
        "a",
        "n",
        "y",
        " ",
        "n",
        "a",
        "m",
        "e",
        " ",
        "c",
        "o",
        "u",
        "l",
        "d",
        " ",
        "d",
        "e",
        "f",
        "i",
        "n",
        "e",
        ".",
      ],
    },
  },
  images: [
    "https://oaidalleapiprodscus.blob.core.windows.net/private/org-KKh6muWGPNwusEUrIv31MeXD/user-HQjprNPAFALhwn9TcfBdyw2h/img-n9wNU3OlDVD3tnpflyivj9P4.png?st=2025-04-04T19%3A10%3A39Z&se=2025-04-04T21%3A10%3A39Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=d505667d-d6c1-4a0a-bac7-5c84a87759f8&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-04-04T14%3A58%3A51Z&ske=2025-04-05T14%3A58%3A51Z&sks=b&skv=2024-08-04&sig=WRpAS5FfzaRd7WzOxEPKsaBTawonu0IbMf4fScQ6GoI%3D",
    "https://oaidalleapiprodscus.blob.core.windows.net/private/org-KKh6muWGPNwusEUrIv31MeXD/user-HQjprNPAFALhwn9TcfBdyw2h/img-wQRkSZtu0ZwxHeb3EFtSjuJR.png?st=2025-04-04T19%3A10%3A51Z&se=2025-04-04T21%3A10%3A51Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=d505667d-d6c1-4a0a-bac7-5c84a87759f8&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-04-04T13%3A34%3A46Z&ske=2025-04-05T13%3A34%3A46Z&sks=b&skv=2024-08-04&sig=NQPStK0y4uZab4a4ool58p8OyvjaOVdEa0UnjMT3hRQ%3D",
    "https://oaidalleapiprodscus.blob.core.windows.net/private/org-KKh6muWGPNwusEUrIv31MeXD/user-HQjprNPAFALhwn9TcfBdyw2h/img-KoHlZFnZkbC6JYIqFwElvzQ2.png?st=2025-04-04T19%3A11%3A04Z&se=2025-04-04T21%3A11%3A04Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=d505667d-d6c1-4a0a-bac7-5c84a87759f8&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-04-04T14%3A40%3A33Z&ske=2025-04-05T14%3A40%3A33Z&sks=b&skv=2024-08-04&sig=bWNnsSKdquoOZdY6mg9/sXqIAGpecst77m1nM4VNbT0%3D",
    "https://oaidalleapiprodscus.blob.core.windows.net/private/org-KKh6muWGPNwusEUrIv31MeXD/user-HQjprNPAFALhwn9TcfBdyw2h/img-VZEBsXpxAzgw7NHG8MzPI3Ki.png?st=2025-04-04T19%3A11%3A18Z&se=2025-04-04T21%3A11%3A18Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=d505667d-d6c1-4a0a-bac7-5c84a87759f8&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-04-04T16%3A12%3A01Z&ske=2025-04-05T16%3A12%3A01Z&sks=b&skv=2024-08-04&sig=%2BvHwXHM2t/bs5IRNBqK%2BCMC7OOxc8UP3tNWF%2Bf0eWHA%3D",
    "https://oaidalleapiprodscus.blob.core.windows.net/private/org-KKh6muWGPNwusEUrIv31MeXD/user-HQjprNPAFALhwn9TcfBdyw2h/img-hv2FzKEEawCHau7sRZDDvFvY.png?st=2025-04-04T19%3A11%3A33Z&se=2025-04-04T21%3A11%3A33Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=d505667d-d6c1-4a0a-bac7-5c84a87759f8&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-04-04T07%3A53%3A59Z&ske=2025-04-05T07%3A53%3A59Z&sks=b&skv=2024-08-04&sig=Gi9rr8c4/mN0jaichTsGSvDEVM6ScDUuhBnNZSscgVw%3D",
  ],
  caption: "Supreme",
};

export async function POST(req: any) {
  const formData = await req.json();
  // const videoData = formData.videoData;
  const functions = await getFunctions({
    region: "us-east-1",
    compatibleOnly: false,
  });
  const functionName = functions[0].functionName;
  const { renderId } = await renderMediaOnLambda({
    region: "us-east-1",
    functionName,
    serveUrl: process.env.NEXT_PUBLIC_REMOTION_AWS_SERVE_URL || "",
    framesPerLambda: 100,
    composition: "videoRender",
    inputProps: { videoData: sampleVideoData },
    codec: "h264",
  });
  return NextResponse.json({
    result:
      process.env.NEXT_PUBLIC_REMOTION_S3_BUCKET_RESULTS +
      renderId +
      "/out.mp4",
  });
}
